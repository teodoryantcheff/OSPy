$def with(endpoints)

$var title: RADIO
$var page: plugins

<style type="text/css">
    .voltage_error {
        background: red;
    }
</style>

<div id="plugin">
    <div class="title">Radio Status</div>
    <form id="pluginForm" action="/#" method="get">
      <table class="logList">
          <tr class="log_rec">
            <th>Address</th>
            <th>Link ID</th>
            <th>Type</th>
            <th>Valves</th>
            <th>Link OK</th>
            <th>Rainsensor</th>
            <th>Outputs</th>
            <th>V</th>
            <th>A</th>
            <th>T</th>
            <th>RSSI1</th>
            <th>RSSI2</th>
          </tr>
      $for endpoint in [e for e in endpoints if e.link_id]:
          <tr class="log_rec ${loop.parity}">
            <td>$'{:#010x}'.format(endpoint.address)</td>
            <td>$endpoint.link_id</td>
            <td>$endpoint.type</td>
            <td>$endpoint.valves</td>
            <td>$endpoint.link_ok</td>
            <td>$endpoint.rainsensor</td>
            <td>$'{:#010b}'.format(endpoint.outputs)</td>
            $ voltage_style = ''
            $if endpoint.type=='24':
                $if endpoint.voltage < 19 or endpoint.voltage > 28:
                    $ voltage_style = 'voltage_error'
            $elif endpoint.type=='9':
                $if endpoint.voltage < 6.8 or endpoint.voltage > 11:
                    $ voltage_style = 'voltage_error'
            <td class="${voltage_style}">$'{:4.2f}'.format(endpoint.voltage) V</td>
            <td>$endpoint.current mA</td>
            <td>$endpoint.temperature Â°C</td>
            <td>$endpoint.rssi1</td>
            <td>$endpoint.rssi2</td>
          </tr>
      </table>
    </form>
</div>
